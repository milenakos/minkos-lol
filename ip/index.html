<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="/cat.ico">
    <meta property="og:site_name" content="minkos.lol">
    <meta property="og:title" content="Cat knows your IP">
    <meta property="og:description" content="hehehhe">
    <meta content="https://minkos.lol/ip" property="og:url">
    <meta content="https://wsrv.nl/?url=catbot.minkos.lol/images/cat.png" property="og:image">
    <meta content="#5865F2" data-react-helmet="true" name="theme-color">

    <title>cat knows ur ip</title>

    <style>
      center {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
    </style>
  </head>

  <body style="padding: 0; margin: 0; height:100vh;">
    <center>
      <div id="disclaimer">
        <h1>Warning!</h1>
        Proceeding will reveal a lot of sensitive information about you.<br><br>
        <button id="togglee" style="visibility:hidden" onclick="play()">i will not sue the creator</button>
      </div>
    </center>

    <script type="application/javascript">
      var audio = new Audio("https://f.minkos.lol/ipreveal.mp3");
      var data = "";
      let prettymappings = {
          "ip":"IP",
          "city":"City",
          "isp":"ISP",
          "country":"Country",
          "countryIso":"Country ISO",
          "postalCode":"Postal Code",
          "subdivisionIso":"Subdivision ISO",
          "timeZone":"Timezone",
          "cityGeonameId":"City Geoname ID",
          "countryGeonameId":"Country Geoname ID",
          "subdivisionGeonameId":"Subdivision Geoname ID",
          "ispId":"ISP ID",
          "latitude":"Latitude",
          "longitude":"Longitude"
      };

      audio.addEventListener("canplaythrough", (event) => {
        document.getElementById('togglee').style.visibility = 'visible';
      });
      audio.load();

      fetch("https://hutils.loxal.net/whois")
        .then(response => response.json())
        .then(information => {
          data = information
        });

      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      async function play() {
        audio.play();
        document.getElementById("disclaimer").innerHTML = "<img src=\"https://wsrv.nl/?url=catbot.minkos.lol/images/cat.png\">";
        await sleep(4000);
        document.getElementById("disclaimer").innerHTML = "";
        for (var prop in data) {
          if (prop == "fingerprint") { break; }
          document.getElementById("disclaimer").innerHTML += prettymappings[prop] + ": " + data[prop] + "<br>";
          await sleep(488);
        }
      }
    </script>
  </body>
</html>
